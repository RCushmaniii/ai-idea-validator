# CLAUDE.md — AI Idea Validator

## Project Overview

AI Idea Validator is a Next.js 15 startup defensibility assessment tool deployed on Netlify. Founders answer 23 questions across 4 sections, then GPT-4o-mini generates a verdict (KILL/FLIP/BUILD/BET) with contradiction detection comparing numeric self-assessments against written responses. Fully bilingual (EN/ES). Current version: 2.5.0.

## Tech Stack

- Next.js 15.5.9 (App Router)
- React 19.2.3
- TypeScript 5.x
- Tailwind CSS 4.x
- OpenAI GPT-4o-mini (server-side only)
- Netlify deployment with `@netlify/plugin-nextjs`
- Formspree for contact form

## Project Structure

```
src/
├── app/                          # Next.js App Router pages
│   ├── api/analyze/route.ts      # OpenAI API endpoint (server-side)
│   ├── kill-test/                # Main assessment flow
│   ├── about/                    # About page
│   ├── contact/                  # Contact form (Formspree)
│   ├── docs/                     # Documentation
│   ├── faq/                      # FAQ
│   ├── support/                  # Support hub
│   ├── privacy/                  # Privacy policy
│   └── terms/                    # Terms of service
├── components/
│   ├── Header.tsx                # Navigation with orange logo
│   ├── Footer.tsx                # Site footer
│   ├── home/                     # Landing page sections (Hero, CTA, Problem, etc.)
│   └── kill-test/                # Assessment components (QuestionCard, Results, etc.)
├── contexts/
│   ├── KillTestContext.tsx        # Assessment state management + API calls
│   ├── LanguageContext.tsx        # EN/ES i18n
│   └── ThemeContext.tsx           # Dark/light mode
└── lib/
    ├── killTestQuestions.ts       # 23 question definitions
    ├── translations.ts            # All UI strings (EN/ES)
    └── analyzeIdea.ts             # Analysis utilities
```

## Development Commands

```powershell
# Install dependencies
npm install

# Run development server
npm run dev

# Run development server (Turbopack)
npm run dev:turbo

# Build for production
npm run build

# Start production server
npm run start

# Lint
npm run lint

# Type check
npm run typecheck

# Full CI pipeline
npm run ci
```

## Key Patterns & Conventions

- **State management:** React Context (KillTestContext, LanguageContext, ThemeContext) — no external state library
- **i18n:** Custom context-based approach via `translations.ts`, not a library. All strings in one file, keyed by language code
- **API security:** OpenAI calls go through `src/app/api/analyze/route.ts` (server-side only). API key never in client bundle.
- **Component organization:** Barrel exports via `index.ts` in `components/home/` and `components/kill-test/`
- **Styling:** Tailwind CSS utility classes, no CSS modules
- **Assessment flow:** 23 questions defined in `killTestQuestions.ts`, state managed by `KillTestContext`
- **Verdicts:** KILL, FLIP, BUILD, BET — generated by GPT-4o-mini or heuristic fallback

## Environment Setup

```powershell
cp .env.example .env
```

| Variable | Required | Description |
|----------|----------|-------------|
| `OPENAI_API_KEY` | No | Enables AI verdicts. Without it, heuristic fallback is used. |

## Known Issues

- `nul` file artifact in repo root (Windows redirect artifact, harmless, gitignored)
